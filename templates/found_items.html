<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Found Items - Lost & Found AI</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <div style="text-align: center; margin-bottom: 2rem">
        <h1>
          <i class="fas fa-search-plus" style="color: #38a169"></i> Found Items
        </h1>
        <p style="color: #718096; font-size: 1.1rem">
          Items found and uploaded by helpful community members
        </p>
      </div>

      <nav>
        <a href="{{ url_for('index') }}"><i class="fas fa-home"></i> Home</a>
        <a href="{{ url_for('upload_found') }}"
          ><i class="fas fa-plus"></i> Upload Found</a
        >
        <a href="{{ url_for('view_lost_items') }}"
          ><i class="fas fa-list"></i> Lost Items</a
        >
        <a href="{{ url_for('match_items') }}"
          ><i class="fas fa-magic"></i> Run AI Match</a
        >
        <a href="{{ url_for('get_matches') }}"
          ><i class="fas fa-chart-line"></i> View Matches</a
        >
      </nav>

      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <div class="alert alert-{{ category }}">
        <i class="fas fa-info-circle"></i>
        {{ message }}
      </div>
      {% endfor %} {% endif %} {% endwith %} {% if found_items %}
      <div class="items-grid">
        {% for item in found_items %}
        <div class="item-card">
          {% if item.image_path %}
          <img
            src="{{ url_for('static', filename=item.image_path.replace('static/', '')) }}"
            alt="Found item"
          />
          {% else %}
          <div
            style="
              height: 200px;
              background: linear-gradient(45deg, #f0fff4, #e6fffa);
              display: flex;
              align-items: center;
              justify-content: center;
              color: #68d391;
            "
          >
            <i class="fas fa-image" style="font-size: 3rem"></i>
          </div>
          {% endif %}
          <div class="item-card-content">
            <h3>
              <i
                class="fas fa-hand-holding"
                style="color: #38a169; margin-right: 0.5rem"
              ></i
              >{{ item.description }}
            </h3>
            <p>
              <i
                class="fas fa-map-marker-alt"
                style="color: #667eea; margin-right: 0.5rem"
              ></i
              ><strong>Found at:</strong> {{ item.location }}
            </p>
            <p>
              <i
                class="fas fa-calendar-alt"
                style="color: #667eea; margin-right: 0.5rem"
              ></i
              ><strong>Date/Time:</strong> {{ item.date_time }}
            </p>
            {% if item.contact_info %}
            <p>
              <i
                class="fas fa-phone"
                style="color: #667eea; margin-right: 0.5rem"
              ></i
              ><strong>Contact:</strong> {{ item.contact_info }}
            </p>
            {% endif %}
            <p style="font-size: 0.9rem; color: #a0aec0; margin-top: 1rem">
              <i class="fas fa-clock" style="margin-right: 0.5rem"></i>Uploaded:
              {{ item.timestamp.split('.')[0] if '.' in item.timestamp else
              item.timestamp }}
            </p>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <div class="no-matches">
        <i
          class="fas fa-search-plus"
          style="font-size: 4rem; color: #cbd5e0; margin-bottom: 1rem"
        ></i>
        <h3>No Found Items Uploaded Yet</h3>
        <p>
          Be the first to upload a found item and help someone recover their
          belongings!
        </p>
        <a href="{{ url_for('upload_found') }}" class="btn">
          <i class="fas fa-plus"></i> Upload Your First Found Item
        </a>
      </div>
      {% endif %} {% if found_items %}
      <div
        style="
          text-align: center;
          margin-top: 3rem;
          padding: 2rem;
          background: #f0fff4;
          border-radius: 16px;
          border: 1px solid #9ae6b4;
        "
      >
        <h3 style="color: #22543d; margin-bottom: 1rem">
          <i class="fas fa-heart" style="color: #38a169"></i> Lost Something?
        </h3>
        <p style="color: #22543d; margin-bottom: 1.5rem">
          Check if any of these found items match what you're looking for, or
          report your lost item to get AI-powered matches.
        </p>
        <div
          style="
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
          "
        >
          <a
            href="{{ url_for('submit_item') }}"
            class="btn"
            style="max-width: 250px"
          >
            <i class="fas fa-exclamation-triangle"></i> Report Lost Item
          </a>
          <a
            href="{{ url_for('match_items') }}"
            class="btn"
            style="max-width: 250px"
          >
            <i class="fas fa-magic"></i> Run AI Matching
          </a>
        </div>
      </div>
      {% endif %}
    </div>
  </body>
</html>
